<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1184" height="956" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:1184px;height:956px;background:#fff" preserveAspectRatio="none" version="1.1" viewBox="0 0 1184 956" zoomAndPan="magnify"><style>@import url(https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono&amp;display=swap);.code,.text{font-size:14px}.text{font-family:&apos;Roboto&apos;,sans-serif}.code{font-family:&apos;Roboto Mono&apos;,monospace}.note,.process{stroke:#383838;stroke-width:1}.process{fill:#f8f8f8}.note{fill:#ebebeb}</style><defs><filter id="f162mg05eaivl4" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><path d="M697.25,10 L697.25,43.8125 L677.25,47.8125 L697.25,51.8125 L697.25,85.625 A0,0 0 0 0 697.25,85.625 L994.25,85.625 A0,0 0 0 0 994.25,85.625 L994.25,20 L984.25,10 L697.25,10 A0,0 0 0 0 697.25,10" class="note" filter="url(#f162mg05eaivl4)"/><path d="M984.25,10 L984.25,20 L994.25,20 L984.25,10" class="note"/><text x="703.25" y="27.988" class="text" textLength="86">In any thread.</text><text x="703.25" y="44.395" class="text" textLength="128">Get on demand only.</text><text x="703.25" y="60.801" class="text" textLength="123">Do not cache result.</text><text x="703.25" y="77.207" class="text" textLength="276">Do not request in constructor unless needed.</text><rect width="84" height="36.406" x="593.25" y="29.609" class="process" filter="url(#f162mg05eaivl4)" rx="12.5" ry="12.5"/><text x="603.25" y="52.598" class="text" textLength="64">getService</text><rect width="91" height="36.488" x="589.75" y="206.031" class="process" filter="url(#f162mg05eaivl4)" rx="12.5" ry="12.5"/><text x="599.75" y="229.102" class="text" textLength="42">Return</text><text x="644.75" y="229.566" class="code" textLength="26">null</text><polygon fill="#F8F8F8" points="547.75 155.828 722.75 155.828 734.75 167.828 722.75 179.828 547.75 179.828 535.75 167.828 547.75 155.828" filter="url(#f162mg05eaivl4)" style="stroke:#383838;stroke-width:1"/><text x="639.25" y="192.816" class="text" textLength="16">no</text><text x="547.75" y="172.613" class="text" textLength="11">Is</text><a href="http://www.jetbrains.org/intellij/sdk/docs/basics/plugin_structure/plugin_services.html?search=ser#how-to-declare-a-service" target="_top" title="http://www.jetbrains.org/intellij/sdk/docs/basics/plugin_structure/plugin_services.html?search=ser#how-to-declare-a-service" xlink:actuate="onRequest" xlink:href="http://www.jetbrains.org/intellij/sdk/docs/basics/plugin_structure/plugin_services.html?search=ser#how-to-declare-a-service" xlink:show="new" xlink:title="http://www.jetbrains.org/intellij/sdk/docs/basics/plugin_structure/plugin_services.html?search=ser#how-to-declare-a-service" xlink:type="simple"><text x="561.75" y="172.613" fill="#1D1D1D" font-family="Roboto" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="118">Service Declaration</text></a><text x="682.75" y="172.613" class="text" textLength="40">Found</text><text x="734.75" y="164.41" class="text" textLength="21">yes</text><polygon fill="#F8F8F8" points="588.75 105.625 681.75 105.625 693.75 117.625 681.75 129.625 588.75 129.625 576.75 117.625 588.75 105.625" filter="url(#f162mg05eaivl4)" style="stroke:#383838;stroke-width:1"/><text x="639.25" y="142.613" class="text" textLength="16">no</text><text x="588.75" y="122.41" class="text" textLength="11">Is</text><a href="http://www.jetbrains.org/intellij/sdk/docs/basics/plugin_structure/plugin_services.html?search=ser#light-service" target="_top" title="http://www.jetbrains.org/intellij/sdk/docs/basics/plugin_structure/plugin_services.html?search=ser#light-service" xlink:actuate="onRequest" xlink:href="http://www.jetbrains.org/intellij/sdk/docs/basics/plugin_structure/plugin_services.html?search=ser#light-service" xlink:show="new" xlink:title="http://www.jetbrains.org/intellij/sdk/docs/basics/plugin_structure/plugin_services.html?search=ser#light-service" xlink:type="simple"><text x="602.75" y="122.41" fill="#1D1D1D" font-family="Roboto" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="79">Light Service</text></a><text x="693.75" y="114.207" class="text" textLength="21">yes</text><polygon fill="#F8F8F8" points="635.25 284.519 647.25 296.519 635.25 308.519 623.25 296.519 635.25 284.519" filter="url(#f162mg05eaivl4)" style="stroke:#383838;stroke-width:1"/><polygon fill="#F8F8F8" points="573.75 378.723 696.75 378.723 708.75 390.723 696.75 402.723 573.75 402.723 561.75 390.723 573.75 378.723" filter="url(#f162mg05eaivl4)" style="stroke:#383838;stroke-width:1"/><text x="573.75" y="395.508" class="text" textLength="123">Is Container Active?</text><text x="524.75" y="387.305" class="text" textLength="37">active</text><text x="708.75" y="387.305" class="text" textLength="195">disposed or dispose in progress</text><rect style="stroke:#000;stroke-width:1.5" width="867" height="426.535" x="11" y="412.723" fill="#FFF" filter="url(#f162mg05eaivl4)"/><path fill="none" d="M204,412.7227 L204,422.1289 L194,432.1289 L11,432.1289" style="stroke:#000;stroke-width:1.5"/><text x="14" y="426.711" class="text" textLength="183">synchronized on service class</text><polygon fill="#F8F8F8" points="207.5 499.332 291.5 499.332 303.5 511.332 291.5 523.332 207.5 523.332 195.5 511.332 207.5 499.332" filter="url(#f162mg05eaivl4)" style="stroke:#383838;stroke-width:1"/><text x="207.5" y="516.117" class="text" textLength="84">Is Initializing?</text><text x="174.5" y="507.914" class="text" textLength="21">yes</text><text x="303.5" y="507.914" class="text" textLength="16">no</text><rect width="182" height="52.895" x="23" y="533.332" class="process" filter="url(#f162mg05eaivl4)" rx="12.5" ry="12.5"/><text x="37" y="556.402" class="text" textLength="40">Throw</text><text x="80" y="556.867" class="code" textLength="111">PluginException</text><text x="33" y="572.809" class="text" textLength="162">Cyclic Service Initialization</text><rect style="stroke:#000;stroke-width:1.5" width="611" height="249.926" x="225" y="533.332" fill="#FFF" filter="url(#f162mg05eaivl4)"/><path fill="none" d="M328,533.332 L328,542.7383 L318,552.7383 L225,552.7383" style="stroke:#000;stroke-width:1.5"/><text x="228" y="547.32" class="text" textLength="93">non cancelable</text><path d="M464,569.7383 L464,587.1445 L444,591.1445 L464,595.1445 L464,612.5508 A0,0 0 0 0 464,612.5508 L826,612.5508 A0,0 0 0 0 826,612.5508 L826,579.7383 L816,569.7383 L464,569.7383 A0,0 0 0 0 464,569.7383" class="note" filter="url(#f162mg05eaivl4)"/><path d="M816,569.7383 L816,579.7383 L826,579.7383 L816,569.7383" class="note"/><text x="470" y="587.727" class="text" textLength="341">Avoid getting other services to reduce initialization tree.</text><text x="470" y="604.133" class="text" textLength="305">As less dependencies, as more faster and reliable.</text><rect width="118" height="36.406" x="326" y="572.941" class="process" filter="url(#f162mg05eaivl4)"/><text x="336" y="595.93" class="text" textLength="98">Create Instance</text><rect width="300" height="52.895" x="235" y="645.469" class="process" filter="url(#f162mg05eaivl4)"/><text x="245" y="668.457" class="text" textLength="280">Register to be Disposed on Container Dispose</text><text x="304" y="684.945" class="text" textLength="84">if Implements</text><text x="391" y="685.41" class="code" textLength="75">Disposable</text><rect width="289" height="52.895" x="240.5" y="718.363" class="process" filter="url(#f162mg05eaivl4)"/><text x="318" y="741.352" class="text" textLength="134">Load Persistent State</text><text x="250.5" y="757.84" class="text" textLength="84">if Implements</text><text x="337.5" y="758.305" class="code" textLength="182">PersistentStateComponent</text><polygon fill="#F8F8F8" points="170 449.129 329 449.129 341 461.129 329 473.129 170 473.129 158 461.129 170 449.129" filter="url(#f162mg05eaivl4)" style="stroke:#383838;stroke-width:1"/><text x="253.5" y="486.117" class="text" textLength="16">no</text><text x="170" y="465.914" class="text" textLength="159">Is Created and Initialized?</text><text x="341" y="457.711" class="text" textLength="21">yes</text><polygon fill="#F8F8F8" points="249.5 803.258 261.5 815.258 249.5 827.258 237.5 815.258 249.5 803.258" filter="url(#f162mg05eaivl4)" style="stroke:#383838;stroke-width:1"/><rect width="246" height="36.488" x="898" y="412.723" class="process" filter="url(#f162mg05eaivl4)" rx="12.5" ry="12.5"/><text x="908" y="435.793" class="text" textLength="40">Throw</text><text x="951" y="436.258" class="code" textLength="183">ProcessCanceledException</text><polygon fill="#F8F8F8" points="555.75 328.519 714.75 328.519 726.75 340.519 714.75 352.519 555.75 352.519 543.75 340.519 555.75 328.519" filter="url(#f162mg05eaivl4)" style="stroke:#383838;stroke-width:1"/><text x="639.25" y="365.508" class="text" textLength="16">no</text><text x="555.75" y="345.305" class="text" textLength="159">Is Created and Initialized?</text><text x="726.75" y="337.102" class="text" textLength="21">yes</text><polygon fill="#F8F8F8" points="635.25 859.258 647.25 871.258 635.25 883.258 623.25 871.258 635.25 859.258" filter="url(#f162mg05eaivl4)" style="stroke:#383838;stroke-width:1"/><rect width="119" height="36.406" x="575.75" y="903.258" class="process" filter="url(#f162mg05eaivl4)" rx="12.5" ry="12.5"/><text x="585.75" y="926.246" class="text" textLength="99">Return Instance</text><line style="stroke:#383838;stroke-width:1.5" x1="635.25" x2="635.25" y1="179.828" y2="206.031"/><polygon fill="#383838" points="631.25 196.031 635.25 206.031 639.25 196.031 635.25 200.031" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="734.75" x2="746.75" y1="167.828" y2="167.828"/><polygon fill="#383838" points="742.75 211.275 746.75 221.275 750.75 211.275 746.75 215.275" style="stroke:#383838;stroke-width:1.5"/><line style="stroke:#383838;stroke-width:1.5" x1="746.75" x2="746.75" y1="167.828" y2="264.519"/><line style="stroke:#383838;stroke-width:1.5" x1="746.75" x2="635.25" y1="264.519" y2="264.519"/><line style="stroke:#383838;stroke-width:1.5" x1="635.25" x2="635.25" y1="264.519" y2="284.519"/><polygon fill="#383838" points="631.25 274.519 635.25 284.519 639.25 274.519 635.25 278.519" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="635.25" x2="635.25" y1="129.625" y2="155.828"/><polygon fill="#383838" points="631.25 145.828 635.25 155.828 639.25 145.828 635.25 149.828" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="693.75" x2="756.75" y1="117.625" y2="117.625"/><polygon fill="#383838" points="752.75 205.275 756.75 215.275 760.75 205.275 756.75 209.275" style="stroke:#383838;stroke-width:1.5"/><line style="stroke:#383838;stroke-width:1.5" x1="756.75" x2="756.75" y1="117.625" y2="296.519"/><line style="stroke:#383838;stroke-width:1.5" x1="756.75" x2="647.25" y1="296.519" y2="296.519"/><polygon fill="#383838" points="657.25 292.519 647.25 296.519 657.25 300.519 653.25 296.519" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="635.25" x2="635.25" y1="66.016" y2="105.625"/><polygon fill="#383838" points="631.25 95.625 635.25 105.625 639.25 95.625 635.25 99.625" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="385" x2="385" y1="609.348" y2="645.469"/><polygon fill="#383838" points="381 635.469 385 645.469 389 635.469 385 639.469" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="385" x2="385" y1="698.363" y2="718.363"/><polygon fill="#383838" points="381 708.363 385 718.363 389 708.363 385 712.363" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="195.5" x2="114" y1="511.332" y2="511.332"/><line style="stroke:#383838;stroke-width:1.5" x1="114" x2="114" y1="511.332" y2="533.332"/><polygon fill="#383838" points="110 523.332 114 533.332 118 523.332 114 527.332" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="303.5" x2="385" y1="511.332" y2="511.332"/><line style="stroke:#383838;stroke-width:1.5" x1="385" x2="385" y1="511.332" y2="572.941"/><polygon fill="#383838" points="381 562.941 385 572.941 389 562.941 385 566.941" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="385" x2="385" y1="771.258" y2="788.258"/><line style="stroke:#383838;stroke-width:1.5" x1="385" x2="249.5" y1="788.258" y2="788.258"/><line style="stroke:#383838;stroke-width:1.5" x1="249.5" x2="249.5" y1="788.258" y2="803.258"/><polygon fill="#383838" points="245.5 793.258 249.5 803.258 253.5 793.258 249.5 797.258" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="249.5" x2="249.5" y1="473.129" y2="499.332"/><polygon fill="#383838" points="245.5 489.332 249.5 499.332 253.5 489.332 249.5 493.332" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="341" x2="856" y1="461.129" y2="461.129"/><polygon fill="#383838" points="852 644.754 856 654.754 860 644.754 856 648.754" style="stroke:#383838;stroke-width:1.5"/><line style="stroke:#383838;stroke-width:1.5" x1="856" x2="856" y1="461.129" y2="815.258"/><line style="stroke:#383838;stroke-width:1.5" x1="856" x2="261.5" y1="815.258" y2="815.258"/><polygon fill="#383838" points="271.5 811.258 261.5 815.258 271.5 819.258 267.5 815.258" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="561.75" x2="249.5" y1="390.723" y2="390.723"/><line style="stroke:#383838;stroke-width:1.5" x1="249.5" x2="249.5" y1="390.723" y2="449.129"/><polygon fill="#383838" points="245.5 439.129 249.5 449.129 253.5 439.129 249.5 443.129" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="708.75" x2="1021" y1="390.723" y2="390.723"/><line style="stroke:#383838;stroke-width:1.5" x1="1021" x2="1021" y1="390.723" y2="412.723"/><polygon fill="#383838" points="1017 402.723 1021 412.723 1025 402.723 1021 406.723" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="249.5" x2="249.5" y1="827.258" y2="844.258"/><line style="stroke:#383838;stroke-width:1.5" x1="249.5" x2="635.25" y1="844.258" y2="844.258"/><line style="stroke:#383838;stroke-width:1.5" x1="635.25" x2="635.25" y1="844.258" y2="859.258"/><polygon fill="#383838" points="631.25 849.258 635.25 859.258 639.25 849.258 635.25 853.258" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="635.25" x2="635.25" y1="352.519" y2="378.723"/><polygon fill="#383838" points="631.25 368.723 635.25 378.723 639.25 368.723 635.25 372.723" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="726.75" x2="1158" y1="340.519" y2="340.519"/><polygon fill="#383838" points="1154 622.551 1158 632.551 1162 622.551 1158 626.551" style="stroke:#383838;stroke-width:1.5"/><line style="stroke:#383838;stroke-width:1.5" x1="1158" x2="1158" y1="340.519" y2="871.258"/><line style="stroke:#383838;stroke-width:1.5" x1="1158" x2="647.25" y1="871.258" y2="871.258"/><polygon fill="#383838" points="657.25 867.258 647.25 871.258 657.25 875.258 653.25 871.258" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="635.25" x2="635.25" y1="308.519" y2="328.519"/><polygon fill="#383838" points="631.25 318.519 635.25 328.519 639.25 318.519 635.25 322.519" style="stroke:#383838;stroke-width:1"/><line style="stroke:#383838;stroke-width:1.5" x1="635.25" x2="635.25" y1="883.258" y2="903.258"/><polygon fill="#383838" points="631.25 893.258 635.25 903.258 639.25 893.258 635.25 897.258" style="stroke:#383838;stroke-width:1"/></g></svg>